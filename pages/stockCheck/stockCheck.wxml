<!--pages/stockCheck/stockCheck.wxml-->
<view class="container">
  <back-top-menu title="仓储盘点" backUrl="../mainPage/mainPage"></back-top-menu>
  <van-search value="{{ storageNumber }}" placeholder="请输入库位号" bind:search="search" bind:change="inputEventCatcher" data-key="storageNumber" />

  <view wx:if="{{hasResult}}">
    <view class="tip">
      <span>* 若商品数量有误，请及时报损或报溢</span>
    </view>
    <van-collapse bind:change="collapseChangeCatcher" value="{{ activeNames }}">
      <van-collapse-item title="九型门T恤" name="1" value="x3">
        商品的具体信息
        <view class="button-group-container">
          <van-button class="report-button" size="small" round type="info" bind:click="reportOverflow">报溢</van-button>
          <van-button class="report-button" size="small" round type="info" bind:click="reportDamage">报损</van-button>
        </view>
      </van-collapse-item>
      <van-collapse-item title="九型门帽子" name="2" value="x2">
        商品的具体信息
        <view class="button-group-container">
          <van-button class="report-button" size="small" round type="info" bind:click="reportOverflow">报溢</van-button>
          <van-button class="report-button" size="small" round type="info" bind:click="reportDamage">报损</van-button>
        </view>
      </van-collapse-item>
    </van-collapse>
  </view>

  <i-modal title="填写具体信息" visible="{{ modalVisible }}" bind:ok="submitReport" bind:cancel="handleClose">
    <van-field input-class="modal-input" label="描述信息：" value="{{ report.description }}" bind:change="inputEventCatcher" error-message="{{errorInfo.descriptionError}}" data-key="description" title-width="70px" border="{{false}}" focus="{{true}}" maxlength="50"
    />
    <van-field input-class="modal-input" label="真实数量：" value="{{ report.number }}" bind:change="inputEventCatcher" error-message="{{errorInfo.numberError}}" data-key="number" title-width="70px" border="{{false}}" />
  </i-modal>
  <i-toast id="toast" />
  <no-result visible="{{!hasResult}}"></no-result>

</view>